(this.webpackJsonpstudentapp=this.webpackJsonpstudentapp||[]).push([[0],{27:function(e,t,s){},28:function(e,t,s){"use strict";s.r(t);var c=s(2),n=s(5),l=s.n(n),a=s(3),r=s(31),d=s(1);var i=function(e){var t=Object(c.useState)([]),s=Object(a.a)(t,2),n=s[0],l=s[1],i=Object(c.useState)([]),u=Object(a.a)(i,2),o=u[0],j=u[1],b=Object(c.useState)([]),m=Object(a.a)(b,2),h=m[0],f=m[1],O=Object(c.useRef)(null),x=Object(c.useRef)(null),p=Object(c.useRef)(null),v=Object(c.useRef)(null),N=Object(c.useRef)(null),S=Object(c.useRef)(null),g=Object(c.useRef)(null),_=Object(c.useRef)(null),y=Object(c.useRef)(null),R=Object(c.useRef)(null);return Object(c.useEffect)((function(){fetch("https://mtml-api.hestawork.com/api/userClass/class-details").then((function(e){return e.json()})).then((function(e){console.log(e.data.classes),l(e.data.classes),j(e.data.campus)}))}),[]),Object(d.jsxs)(r.a,{show:e.shouldSidebarVisible,onHide:e.closeSideBar,placement:"end",style:{overflow:"scroll"},children:[Object(d.jsx)(r.a.Header,{closeButton:!0,children:Object(d.jsx)(r.a.Title,{style:{fontSize:"20px"},children:"Edit Student"})}),Object(d.jsx)(r.a.Body,{style:{fontSize:"20px"},children:Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault();var s={first_name:O.current.value,last_name:x.current.value,campus:p.current.value,user_id:e.student._id,student_id:v.current.value,dob:N.current.value?N.current.value:"1998-01-01",gender:S.current.value,email:_.current.value,mobile_number:g.current.value,class_name:y.current.value,section:R.current.value};fetch("https://mtml-api.hestawork.com/api/user/update-student ",{method:"PUT",body:JSON.stringify(s),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){200==t.status&&(console.log("student data updated successfully....."),e.closeSideBar(),e.setRefresh(!e.Refresh))}))},children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlfor:"fname",className:"form-label",children:"First Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"fname",defaultValue:e.student.first_name,ref:O})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlfor:"lname",className:"form-label",children:"Last Name"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"lname",defaultValue:e.student.last_name,ref:x})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlfor:"campus",className:"form-label",children:"Campus"}),Object(d.jsx)("select",{id:"campus",className:"form-select",ref:p,children:o.map((function(t){return Object(d.jsx)("option",{value:t.campus_name,selected:e.student.campus==t.campus_name,children:t.campus_name})}))})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlfor:"std_id",className:"form-label",children:"Student Id*"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"std_id",defaultValue:e.student.student.student_id,disabled:!0,ref:v})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlfor:"dob",className:"form-label",children:"Date Of Birth"}),Object(d.jsx)("input",{type:"date",className:"form-control",id:"dob",defaultValue:e.student.student.dob,ref:N})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlfor:"gender",className:"form-label",children:"gender"}),Object(d.jsxs)("select",{id:"gender",className:"form-select",ref:S,children:[Object(d.jsx)("option",{value:"Male",selected:"Male"==e.student.student.gender,children:"Male"}),Object(d.jsx)("option",{value:"Female",selected:"Female"==e.student.student.gender,children:"Female"}),Object(d.jsx)("option",{Value:"Others",selected:"Others"==e.student.student.gender,children:"Others"})]})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlfor:"email",className:"form-label",children:"Email Address*"}),Object(d.jsx)("input",{type:"email",className:"form-control",id:"email",disabled:!0,defaultValue:e.student.email,ref:_})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlfor:"mobile",className:"form-label",children:"Mobile No*"}),Object(d.jsx)("input",{type:"number",className:"form-control",id:"mobile",defaultValue:e.student.mobile_number,ref:g})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlfor:"classes",className:"form-label",children:"Class"}),Object(d.jsx)("select",{id:"classes",className:"form-select",placeholder:e.student.student.class_name,onChange:function(e){console.log(e.target.value);var t=n.filter((function(t){return t.class_name==e.target.value})),s=Object(a.a)(t,1)[0].section.map((function(e){return e.section}));f(s)},ref:y,children:n.map((function(t){return Object(d.jsx)("option",{value:t.class_name,selected:e.student.student.class_name==t.class_name,children:t.class_name})}))})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlfor:"section",className:"form-label",children:"Section"}),Object(d.jsx)("select",{id:"section",className:"form-select",ref:R,children:0==h.length?Object(d.jsx)("option",{value:e.student.student.section,selected:!0,children:e.student.student.section}):h.map((function(t){return Object(d.jsx)("option",{value:t,selected:t==e.student.student.section,children:t})}))})]}),Object(d.jsx)("button",{type:"submit",className:" button-color",style:{marginLeft:"10px"},children:"Save"}),Object(d.jsx)("button",{type:"button",className:"button-transparent",style:{marginLeft:"10px"},onClick:e.closeSideBar,children:"Cancel"})]})})]})},u=s(12),o=s(17);var j=function(e){return Object(d.jsx)("div",{className:"col-lg-12",children:Object(d.jsxs)("table",{className:"table",size:"lg",style:{marginTop:"10px",borderSpacing:"0 20px",borderCollapse:"separate"},children:[Object(d.jsxs)("tr",{style:{background:"transparent"},children:[Object(d.jsx)("th",{children:"Student #"}),Object(d.jsx)("th",{children:"First Name"}),Object(d.jsx)("th",{children:"Last Name"}),Object(d.jsx)("th",{children:"Class"}),Object(d.jsx)("th",{children:"Section"}),Object(d.jsx)("th",{children:"Email #"}),Object(d.jsx)("th",{children:"Campus"}),Object(d.jsx)("th",{colSpan:"3",children:"Action"})]}),Object(d.jsx)("tbody",{children:e.students.data.docs.map((function(t){return Object(d.jsxs)("tr",{style:{backgroundColor:"white",padding:"20px",boxShadow:"0 4px 8px 0 rgba(0,0,0,0.2)",height:"60px"},children:[Object(d.jsx)("td",{children:t.student.student_id}),Object(d.jsxs)("td",{children:[t.first_name," "]}),Object(d.jsx)("td",{children:t.last_name}),Object(d.jsx)("td",{children:t.student.class_name}),Object(d.jsx)("td",{children:t.student.section}),Object(d.jsx)("td",{children:t.email}),Object(d.jsx)("td",{children:t.campus}),Object(d.jsx)("td",{children:Object(d.jsx)("a",{href:"#",onClick:function(s){s.preventDefault(),function(t){var s=e.students.data.docs.filter((function(e){return e._id==t})),c=Object(a.a)(s,1)[0];e.openSideBar(c)}(t._id)},children:Object(d.jsx)(u.b,{})})}),Object(d.jsx)("td",{children:Object(d.jsx)("a",{href:"#",children:Object(d.jsx)(u.a,{})})}),Object(d.jsx)("td",{children:Object(d.jsx)("a",{href:"#",children:Object(d.jsx)(o.a,{})})})]},t.student.student_id)}))})]})})};var b=function(e){var t=Object(c.useState)(!1),s=Object(a.a)(t,2),n=s[0],l=s[1],r=Object(c.useState)({}),u=Object(a.a)(r,2),o=u[0],b=u[1],m=Object(c.useState)({}),h=Object(a.a)(m,2),f=h[0],O=h[1],x=Object(c.useState)(!1),p=Object(a.a)(x,2),v=p[0],N=p[1];Object(c.useEffect)((function(){fetch("https://mtml-api.hestawork.com/api/user/filter-students ",{method:"POST",body:JSON.stringify({page:"1",limit:"10"}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){console.log(e),O(e)}))}),[v]);var S=function(){l(!1)},g=function(e){console.log(e),b(e),l(!0)};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h2",{children:"Student Information"}),Object(d.jsxs)("div",{className:"row",children:[void 0!==f.data&&Object(d.jsx)(j,{students:f,setStudent:O,shouldSidebarVisible:n,closeSideBar:S,openSideBar:g}),n&&Object(d.jsx)(i,{student:o,setRefresh:N,Refresh:v,shouldSidebarVisible:n,closeSideBar:S,openSideBar:g})]})]})};var m=function(){return Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)(b,{})})};s(26),s(27);l.a.render(Object(d.jsx)(m,{}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.9c36ebc4.chunk.js.map